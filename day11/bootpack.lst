     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_init_gdtidt
     7 00000000                                 	EXTERN	_init_pic
     8 00000000                                 	EXTERN	_io_sti
     9 00000000                                 	EXTERN	_init_keyboard
    10 00000000                                 	EXTERN	_memtest
    11 00000000                                 	EXTERN	_memman_init
    12 00000000                                 	EXTERN	_memman_free
    13 00000000                                 	EXTERN	_init_palette
    14 00000000                                 	EXTERN	_shtctl_init
    15 00000000                                 	EXTERN	_sheet_alloc
    16 00000000                                 	EXTERN	_memman_alloc_4k
    17 00000000                                 	EXTERN	_sheet_setbuf
    18 00000000                                 	EXTERN	_init_screen
    19 00000000                                 	EXTERN	_enable_mouse
    20 00000000                                 	EXTERN	_init_mouse_cursor8
    21 00000000                                 	EXTERN	_make_window8
    22 00000000                                 	EXTERN	_sheet_slide
    23 00000000                                 	EXTERN	_sheet_updown
    24 00000000                                 	EXTERN	_sprintf
    25 00000000                                 	EXTERN	_putfonts8_asc
    26 00000000                                 	EXTERN	_memman_total
    27 00000000                                 	EXTERN	_sheet_refresh
    28 00000000                                 	EXTERN	_io_out8
    29 00000000                                 	EXTERN	_keyfifo
    30 00000000                                 	EXTERN	_fifo8_init
    31 00000000                                 	EXTERN	_mousefifo
    32 00000000                                 	EXTERN	_boxfill8
    33 00000000                                 	EXTERN	_io_cli
    34 00000000                                 	EXTERN	_fifo8_status
    35 00000000                                 	EXTERN	_fifo8_get
    36 00000000                                 	EXTERN	_mouse_decode
    37 00000000                                 [FILE "bootpack.c"]
    38                                          [SECTION .data]
    39 00000000                                 LC0:
    40 00000000 63 6F 75 6E 74 65 72 00         	DB	"counter",0x00
    41 00000008                                 LC1:
    42 00000008 25 33 64 20 25 33 64 00         	DB	"%3d %3d",0x00
    43 00000010                                 LC2:
    44 00000010 6D 65 6D 6F 72 79 20 25 64 4D   	DB	"memory %dMB free %dkb",0x00
       0000001A 42 20 66 72 65 65 20 25 64 6B 
       00000024 62 00 
    45 00000026                                 LC3:
    46 00000026 25 30 31 30 64 00               	DB	"%010d",0x00
    47 0000002C                                 LC5:
    48 0000002C 5B 6C 63 72 20 25 34 64 20 25   	DB	"[lcr %4d %4d]",0x00
       00000036 34 64 5D 00 
    49 0000003A                                 LC6:
    50 0000003A 28 25 33 64 2C 25 33 64 29 00   	DB	"(%3d,%3d)",0x00
    51 00000044                                 LC4:
    52 00000044 25 30 32 58 00                  	DB	"%02X",0x00
    53                                          [SECTION .text]
    54 00000000                                 	ALIGN	2
    55 00000000                                 	GLOBAL	_HariMain
    56 00000000                                 _HariMain:
    57 00000000 55                              	PUSH	EBP
    58 00000001 89 E5                           	MOV	EBP,ESP
    59 00000003 57                              	PUSH	EDI
    60 00000004 56                              	PUSH	ESI
    61 00000005 53                              	PUSH	EBX
    62 00000006 81 EC 00000208                  	SUB	ESP,520
    63 0000000C C7 85 FFFFFE08 00000000         	MOV	DWORD [-504+EBP],0
    64 00000016 E8 [00000000]                   	CALL	_init_gdtidt
    65 0000001B E8 [00000000]                   	CALL	_init_pic
    66 00000020 E8 [00000000]                   	CALL	_io_sti
    67 00000025 E8 [00000000]                   	CALL	_init_keyboard
    68 0000002A 68 BFFFFFFF                     	PUSH	-1073741825
    69 0000002F 68 00400000                     	PUSH	4194304
    70 00000034 E8 [00000000]                   	CALL	_memtest
    71 00000039 68 003C0000                     	PUSH	3932160
    72 0000003E 89 85 FFFFFE0C                  	MOV	DWORD [-500+EBP],EAX
    73 00000044 E8 [00000000]                   	CALL	_memman_init
    74 00000049 68 0009E000                     	PUSH	647168
    75 0000004E 68 00001000                     	PUSH	4096
    76 00000053 68 003C0000                     	PUSH	3932160
    77 00000058 E8 [00000000]                   	CALL	_memman_free
    78 0000005D 8B 85 FFFFFE0C                  	MOV	EAX,DWORD [-500+EBP]
    79 00000063 2D 00400000                     	SUB	EAX,4194304
    80 00000068 50                              	PUSH	EAX
    81 00000069 68 00400000                     	PUSH	4194304
    82 0000006E 68 003C0000                     	PUSH	3932160
    83 00000073 E8 [00000000]                   	CALL	_memman_free
    84 00000078 83 C4 24                        	ADD	ESP,36
    85 0000007B E8 [00000000]                   	CALL	_init_palette
    86 00000080 0F BF 3D 00000FF6               	MOVSX	EDI,WORD [4086]
    87 00000087 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    88 0000008E 57                              	PUSH	EDI
    89 0000008F 89 85 FFFFFE10                  	MOV	DWORD [-496+EBP],EAX
    90 00000095 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    91 0000009C 50                              	PUSH	EAX
    92 0000009D FF 35 00000FF8                  	PUSH	DWORD [4088]
    93 000000A3 68 003C0000                     	PUSH	3932160
    94 000000A8 E8 [00000000]                   	CALL	_shtctl_init
    95 000000AD 89 C3                           	MOV	EBX,EAX
    96 000000AF 50                              	PUSH	EAX
    97 000000B0 E8 [00000000]                   	CALL	_sheet_alloc
    98 000000B5 53                              	PUSH	EBX
    99 000000B6 89 85 FFFFFE04                  	MOV	DWORD [-508+EBP],EAX
   100 000000BC E8 [00000000]                   	CALL	_sheet_alloc
   101 000000C1 53                              	PUSH	EBX
   102 000000C2 8D 9D FFFFFEF4                  	LEA	EBX,DWORD [-268+EBP]
   103 000000C8 89 85 FFFFFE00                  	MOV	DWORD [-512+EBP],EAX
   104 000000CE E8 [00000000]                   	CALL	_sheet_alloc
   105 000000D3 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
   106 000000DA 89 85 FFFFFDFC                  	MOV	DWORD [-516+EBP],EAX
   107 000000E0 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   108 000000E7 0F AF C2                        	IMUL	EAX,EDX
   109 000000EA 50                              	PUSH	EAX
   110 000000EB 68 003C0000                     	PUSH	3932160
   111 000000F0 E8 [00000000]                   	CALL	_memman_alloc_4k
   112 000000F5 83 C4 24                        	ADD	ESP,36
   113 000000F8 68 00002080                     	PUSH	8320
   114 000000FD 89 85 FFFFFDF8                  	MOV	DWORD [-520+EBP],EAX
   115 00000103 68 003C0000                     	PUSH	3932160
   116 00000108 E8 [00000000]                   	CALL	_memman_alloc_4k
   117 0000010D 6A FF                           	PUSH	-1
   118 0000010F 89 85 FFFFFDF4                  	MOV	DWORD [-524+EBP],EAX
   119 00000115 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   120 0000011C 50                              	PUSH	EAX
   121 0000011D 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   122 00000124 50                              	PUSH	EAX
   123 00000125 FF B5 FFFFFDF8                  	PUSH	DWORD [-520+EBP]
   124 0000012B FF B5 FFFFFE04                  	PUSH	DWORD [-508+EBP]
   125 00000131 E8 [00000000]                   	CALL	_sheet_setbuf
   126 00000136 6A 63                           	PUSH	99
   127 00000138 6A 10                           	PUSH	16
   128 0000013A 6A 10                           	PUSH	16
   129 0000013C 53                              	PUSH	EBX
   130 0000013D FF B5 FFFFFE00                  	PUSH	DWORD [-512+EBP]
   131 00000143 E8 [00000000]                   	CALL	_sheet_setbuf
   132 00000148 83 C4 30                        	ADD	ESP,48
   133 0000014B 6A FF                           	PUSH	-1
   134 0000014D 6A 34                           	PUSH	52
   135 0000014F 68 000000A0                     	PUSH	160
   136 00000154 FF B5 FFFFFDF4                  	PUSH	DWORD [-524+EBP]
   137 0000015A FF B5 FFFFFDFC                  	PUSH	DWORD [-516+EBP]
   138 00000160 E8 [00000000]                   	CALL	_sheet_setbuf
   139 00000165 57                              	PUSH	EDI
   140 00000166 FF B5 FFFFFE10                  	PUSH	DWORD [-496+EBP]
   141 0000016C FF B5 FFFFFDF8                  	PUSH	DWORD [-520+EBP]
   142 00000172 E8 [00000000]                   	CALL	_init_screen
   143 00000177 8D 85 FFFFFE14                  	LEA	EAX,DWORD [-492+EBP]
   144 0000017D 83 C4 20                        	ADD	ESP,32
   145 00000180 50                              	PUSH	EAX
   146 00000181 E8 [00000000]                   	CALL	_enable_mouse
   147 00000186 6A 63                           	PUSH	99
   148 00000188 53                              	PUSH	EBX
   149 00000189 BB 00000002                     	MOV	EBX,2
   150 0000018E E8 [00000000]                   	CALL	_init_mouse_cursor8
   151 00000193 68 [00000000]                   	PUSH	LC0
   152 00000198 6A 34                           	PUSH	52
   153 0000019A 68 000000A0                     	PUSH	160
   154 0000019F FF B5 FFFFFDF4                  	PUSH	DWORD [-524+EBP]
   155 000001A5 E8 [00000000]                   	CALL	_make_window8
   156 000001AA 6A 00                           	PUSH	0
   157 000001AC 6A 00                           	PUSH	0
   158 000001AE FF B5 FFFFFE04                  	PUSH	DWORD [-508+EBP]
   159 000001B4 E8 [00000000]                   	CALL	_sheet_slide
   160 000001B9 83 C4 28                        	ADD	ESP,40
   161 000001BC 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   162 000001C3 8D 48 F0                        	LEA	ECX,DWORD [-16+EAX]
   163 000001C6 89 C8                           	MOV	EAX,ECX
   164 000001C8 99                              	CDQ
   165 000001C9 F7 FB                           	IDIV	EBX
   166 000001CB 89 C6                           	MOV	ESI,EAX
   167 000001CD 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   168 000001D4 8D 48 D4                        	LEA	ECX,DWORD [-44+EAX]
   169 000001D7 89 C8                           	MOV	EAX,ECX
   170 000001D9 99                              	CDQ
   171 000001DA F7 FB                           	IDIV	EBX
   172 000001DC 50                              	PUSH	EAX
   173 000001DD 89 C7                           	MOV	EDI,EAX
   174 000001DF 56                              	PUSH	ESI
   175 000001E0 8D 9D FFFFFEC4                  	LEA	EBX,DWORD [-316+EBP]
   176 000001E6 FF B5 FFFFFE00                  	PUSH	DWORD [-512+EBP]
   177 000001EC E8 [00000000]                   	CALL	_sheet_slide
   178 000001F1 6A 48                           	PUSH	72
   179 000001F3 6A 50                           	PUSH	80
   180 000001F5 FF B5 FFFFFDFC                  	PUSH	DWORD [-516+EBP]
   181 000001FB E8 [00000000]                   	CALL	_sheet_slide
   182 00000200 6A 00                           	PUSH	0
   183 00000202 FF B5 FFFFFE04                  	PUSH	DWORD [-508+EBP]
   184 00000208 E8 [00000000]                   	CALL	_sheet_updown
   185 0000020D 83 C4 20                        	ADD	ESP,32
   186 00000210 6A 01                           	PUSH	1
   187 00000212 FF B5 FFFFFDFC                  	PUSH	DWORD [-516+EBP]
   188 00000218 E8 [00000000]                   	CALL	_sheet_updown
   189 0000021D 6A 02                           	PUSH	2
   190 0000021F FF B5 FFFFFE00                  	PUSH	DWORD [-512+EBP]
   191 00000225 E8 [00000000]                   	CALL	_sheet_updown
   192 0000022A 57                              	PUSH	EDI
   193 0000022B 56                              	PUSH	ESI
   194 0000022C 68 [00000008]                   	PUSH	LC1
   195 00000231 53                              	PUSH	EBX
   196 00000232 E8 [00000000]                   	CALL	_sprintf
   197 00000237 83 C4 20                        	ADD	ESP,32
   198 0000023A 53                              	PUSH	EBX
   199 0000023B 6A 07                           	PUSH	7
   200 0000023D 6A 00                           	PUSH	0
   201 0000023F 6A 00                           	PUSH	0
   202 00000241 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   203 00000248 50                              	PUSH	EAX
   204 00000249 FF 35 00000FF8                  	PUSH	DWORD [4088]
   205 0000024F E8 [00000000]                   	CALL	_putfonts8_asc
   206 00000254 68 003C0000                     	PUSH	3932160
   207 00000259 E8 [00000000]                   	CALL	_memman_total
   208 0000025E C1 AD FFFFFE0C 14               	SHR	DWORD [-500+EBP],20
   209 00000265 C1 E8 0A                        	SHR	EAX,10
   210 00000268 89 04 24                        	MOV	DWORD [ESP],EAX
   211 0000026B FF B5 FFFFFE0C                  	PUSH	DWORD [-500+EBP]
   212 00000271 68 [00000010]                   	PUSH	LC2
   213 00000276 53                              	PUSH	EBX
   214 00000277 E8 [00000000]                   	CALL	_sprintf
   215 0000027C 83 C4 28                        	ADD	ESP,40
   216 0000027F 53                              	PUSH	EBX
   217 00000280 6A 07                           	PUSH	7
   218 00000282 6A 20                           	PUSH	32
   219 00000284 6A 00                           	PUSH	0
   220 00000286 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   221 0000028D 50                              	PUSH	EAX
   222 0000028E FF B5 FFFFFDF8                  	PUSH	DWORD [-520+EBP]
   223 00000294 E8 [00000000]                   	CALL	_putfonts8_asc
   224 00000299 6A 30                           	PUSH	48
   225 0000029B 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   226 000002A2 50                              	PUSH	EAX
   227 000002A3 6A 00                           	PUSH	0
   228 000002A5 6A 00                           	PUSH	0
   229 000002A7 FF B5 FFFFFE04                  	PUSH	DWORD [-508+EBP]
   230 000002AD E8 [00000000]                   	CALL	_sheet_refresh
   231 000002B2 83 C4 2C                        	ADD	ESP,44
   232 000002B5 68 000000F9                     	PUSH	249
   233 000002BA 6A 21                           	PUSH	33
   234 000002BC E8 [00000000]                   	CALL	_io_out8
   235 000002C1 68 000000EF                     	PUSH	239
   236 000002C6 68 000000A1                     	PUSH	161
   237 000002CB E8 [00000000]                   	CALL	_io_out8
   238 000002D0 8D 85 FFFFFEA4                  	LEA	EAX,DWORD [-348+EBP]
   239 000002D6 50                              	PUSH	EAX
   240 000002D7 6A 20                           	PUSH	32
   241 000002D9 68 [00000000]                   	PUSH	_keyfifo
   242 000002DE E8 [00000000]                   	CALL	_fifo8_init
   243 000002E3 8D 85 FFFFFE24                  	LEA	EAX,DWORD [-476+EBP]
   244 000002E9 50                              	PUSH	EAX
   245 000002EA 68 00000080                     	PUSH	128
   246 000002EF 68 [00000000]                   	PUSH	_mousefifo
   247 000002F4 E8 [00000000]                   	CALL	_fifo8_init
   248 000002F9 83 C4 28                        	ADD	ESP,40
   249 000002FC                                 L2:
   250 000002FC FF 85 FFFFFE08                  	INC	DWORD [-504+EBP]
   251 00000302 8D 9D FFFFFEC4                  	LEA	EBX,DWORD [-316+EBP]
   252 00000308 FF B5 FFFFFE08                  	PUSH	DWORD [-504+EBP]
   253 0000030E 68 [00000026]                   	PUSH	LC3
   254 00000313 53                              	PUSH	EBX
   255 00000314 E8 [00000000]                   	CALL	_sprintf
   256 00000319 6A 2B                           	PUSH	43
   257 0000031B 6A 77                           	PUSH	119
   258 0000031D 6A 1C                           	PUSH	28
   259 0000031F 6A 28                           	PUSH	40
   260 00000321 6A 08                           	PUSH	8
   261 00000323 68 000000A0                     	PUSH	160
   262 00000328 FF B5 FFFFFDF4                  	PUSH	DWORD [-524+EBP]
   263 0000032E E8 [00000000]                   	CALL	_boxfill8
   264 00000333 83 C4 28                        	ADD	ESP,40
   265 00000336 53                              	PUSH	EBX
   266 00000337 6A 00                           	PUSH	0
   267 00000339 6A 1C                           	PUSH	28
   268 0000033B 6A 28                           	PUSH	40
   269 0000033D 68 000000A0                     	PUSH	160
   270 00000342 FF B5 FFFFFDF4                  	PUSH	DWORD [-524+EBP]
   271 00000348 E8 [00000000]                   	CALL	_putfonts8_asc
   272 0000034D 6A 2C                           	PUSH	44
   273 0000034F 6A 78                           	PUSH	120
   274 00000351 6A 1C                           	PUSH	28
   275 00000353 6A 28                           	PUSH	40
   276 00000355 FF B5 FFFFFDFC                  	PUSH	DWORD [-516+EBP]
   277 0000035B E8 [00000000]                   	CALL	_sheet_refresh
   278 00000360 83 C4 2C                        	ADD	ESP,44
   279 00000363 E8 [00000000]                   	CALL	_io_cli
   280 00000368 68 [00000000]                   	PUSH	_keyfifo
   281 0000036D E8 [00000000]                   	CALL	_fifo8_status
   282 00000372 68 [00000000]                   	PUSH	_mousefifo
   283 00000377 89 C3                           	MOV	EBX,EAX
   284 00000379 E8 [00000000]                   	CALL	_fifo8_status
   285 0000037E 8D 04 18                        	LEA	EAX,DWORD [EAX+EBX*1]
   286 00000381 5B                              	POP	EBX
   287 00000382 5A                              	POP	EDX
   288 00000383 85 C0                           	TEST	EAX,EAX
   289 00000385 0F 84 00000236                  	JE	L18
   290 0000038B 68 [00000000]                   	PUSH	_keyfifo
   291 00000390 E8 [00000000]                   	CALL	_fifo8_status
   292 00000395 59                              	POP	ECX
   293 00000396 85 C0                           	TEST	EAX,EAX
   294 00000398 0F 85 000001A5                  	JNE	L19
   295 0000039E 68 [00000000]                   	PUSH	_mousefifo
   296 000003A3 E8 [00000000]                   	CALL	_fifo8_status
   297 000003A8 5A                              	POP	EDX
   298 000003A9 85 C0                           	TEST	EAX,EAX
   299 000003AB 0F 84 FFFFFF4B                  	JE	L2
   300 000003B1 68 [00000000]                   	PUSH	_mousefifo
   301 000003B6 E8 [00000000]                   	CALL	_fifo8_get
   302 000003BB 89 C3                           	MOV	EBX,EAX
   303 000003BD E8 [00000000]                   	CALL	_io_sti
   304 000003C2 0F B6 C3                        	MOVZX	EAX,BL
   305 000003C5 50                              	PUSH	EAX
   306 000003C6 8D 85 FFFFFE14                  	LEA	EAX,DWORD [-492+EBP]
   307 000003CC 50                              	PUSH	EAX
   308 000003CD E8 [00000000]                   	CALL	_mouse_decode
   309 000003D2 83 C4 0C                        	ADD	ESP,12
   310 000003D5 85 C0                           	TEST	EAX,EAX
   311 000003D7 0F 84 FFFFFF1F                  	JE	L2
   312 000003DD FF B5 FFFFFE1C                  	PUSH	DWORD [-484+EBP]
   313 000003E3 FF B5 FFFFFE18                  	PUSH	DWORD [-488+EBP]
   314 000003E9 68 [0000002C]                   	PUSH	LC5
   315 000003EE 8D 85 FFFFFEC4                  	LEA	EAX,DWORD [-316+EBP]
   316 000003F4 50                              	PUSH	EAX
   317 000003F5 E8 [00000000]                   	CALL	_sprintf
   318 000003FA 83 C4 10                        	ADD	ESP,16
   319 000003FD 8B 85 FFFFFE20                  	MOV	EAX,DWORD [-480+EBP]
   320 00000403 A9 00000001                     	TEST	EAX,1
   321 00000408 74 07                           	JE	L11
   322 0000040A C6 85 FFFFFEC5 4C               	MOV	BYTE [-315+EBP],76
   323 00000411                                 L11:
   324 00000411 A9 00000002                     	TEST	EAX,2
   325 00000416 74 07                           	JE	L12
   326 00000418 C6 85 FFFFFEC7 52               	MOV	BYTE [-313+EBP],82
   327 0000041F                                 L12:
   328 0000041F 83 E0 04                        	AND	EAX,4
   329 00000422 74 07                           	JE	L13
   330 00000424 C6 85 FFFFFEC6 43               	MOV	BYTE [-314+EBP],67
   331 0000042B                                 L13:
   332 0000042B 6A 1F                           	PUSH	31
   333 0000042D 68 00000097                     	PUSH	151
   334 00000432 6A 10                           	PUSH	16
   335 00000434 6A 20                           	PUSH	32
   336 00000436 6A 0E                           	PUSH	14
   337 00000438 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   338 0000043F 50                              	PUSH	EAX
   339 00000440 FF B5 FFFFFDF8                  	PUSH	DWORD [-520+EBP]
   340 00000446 E8 [00000000]                   	CALL	_boxfill8
   341 0000044B 8D 95 FFFFFEC4                  	LEA	EDX,DWORD [-316+EBP]
   342 00000451 52                              	PUSH	EDX
   343 00000452 6A 07                           	PUSH	7
   344 00000454 6A 10                           	PUSH	16
   345 00000456 6A 20                           	PUSH	32
   346 00000458 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   347 0000045F 50                              	PUSH	EAX
   348 00000460 FF B5 FFFFFDF8                  	PUSH	DWORD [-520+EBP]
   349 00000466 E8 [00000000]                   	CALL	_putfonts8_asc
   350 0000046B 83 C4 34                        	ADD	ESP,52
   351 0000046E 6A 20                           	PUSH	32
   352 00000470 68 00000098                     	PUSH	152
   353 00000475 6A 10                           	PUSH	16
   354 00000477 6A 20                           	PUSH	32
   355 00000479 FF B5 FFFFFE04                  	PUSH	DWORD [-508+EBP]
   356 0000047F E8 [00000000]                   	CALL	_sheet_refresh
   357 00000484 83 C4 14                        	ADD	ESP,20
   358 00000487 03 BD FFFFFE1C                  	ADD	EDI,DWORD [-484+EBP]
   359 0000048D 03 B5 FFFFFE18                  	ADD	ESI,DWORD [-488+EBP]
   360 00000493 0F 88 000000A3                  	JS	L20
   361 00000499                                 L14:
   362 00000499 85 FF                           	TEST	EDI,EDI
   363 0000049B 0F 88 00000094                  	JS	L21
   364 000004A1                                 L15:
   365 000004A1 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   366 000004A8 48                              	DEC	EAX
   367 000004A9 39 C6                           	CMP	ESI,EAX
   368 000004AB 7E 02                           	JLE	L16
   369 000004AD 89 C6                           	MOV	ESI,EAX
   370 000004AF                                 L16:
   371 000004AF 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   372 000004B6 48                              	DEC	EAX
   373 000004B7 39 C7                           	CMP	EDI,EAX
   374 000004B9 7E 02                           	JLE	L17
   375 000004BB 89 C7                           	MOV	EDI,EAX
   376 000004BD                                 L17:
   377 000004BD 57                              	PUSH	EDI
   378 000004BE 8D 9D FFFFFEC4                  	LEA	EBX,DWORD [-316+EBP]
   379 000004C4 56                              	PUSH	ESI
   380 000004C5 68 [0000003A]                   	PUSH	LC6
   381 000004CA 53                              	PUSH	EBX
   382 000004CB E8 [00000000]                   	CALL	_sprintf
   383 000004D0 6A 0F                           	PUSH	15
   384 000004D2 6A 4F                           	PUSH	79
   385 000004D4 6A 00                           	PUSH	0
   386 000004D6 6A 00                           	PUSH	0
   387 000004D8 6A 0E                           	PUSH	14
   388 000004DA 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   389 000004E1 50                              	PUSH	EAX
   390 000004E2 FF B5 FFFFFDF8                  	PUSH	DWORD [-520+EBP]
   391 000004E8 E8 [00000000]                   	CALL	_boxfill8
   392 000004ED 83 C4 2C                        	ADD	ESP,44
   393 000004F0 53                              	PUSH	EBX
   394 000004F1 6A 07                           	PUSH	7
   395 000004F3 6A 00                           	PUSH	0
   396 000004F5 6A 00                           	PUSH	0
   397 000004F7 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   398 000004FE 50                              	PUSH	EAX
   399 000004FF FF B5 FFFFFDF8                  	PUSH	DWORD [-520+EBP]
   400 00000505 E8 [00000000]                   	CALL	_putfonts8_asc
   401 0000050A 6A 10                           	PUSH	16
   402 0000050C 6A 50                           	PUSH	80
   403 0000050E 6A 00                           	PUSH	0
   404 00000510 6A 00                           	PUSH	0
   405 00000512 FF B5 FFFFFE04                  	PUSH	DWORD [-508+EBP]
   406 00000518 E8 [00000000]                   	CALL	_sheet_refresh
   407 0000051D 83 C4 2C                        	ADD	ESP,44
   408 00000520 57                              	PUSH	EDI
   409 00000521 56                              	PUSH	ESI
   410 00000522 FF B5 FFFFFE00                  	PUSH	DWORD [-512+EBP]
   411 00000528 E8 [00000000]                   	CALL	_sheet_slide
   412 0000052D 83 C4 0C                        	ADD	ESP,12
   413 00000530 E9 FFFFFDC7                     	JMP	L2
   414 00000535                                 L21:
   415 00000535 31 FF                           	XOR	EDI,EDI
   416 00000537 E9 FFFFFF65                     	JMP	L15
   417 0000053C                                 L20:
   418 0000053C 31 F6                           	XOR	ESI,ESI
   419 0000053E E9 FFFFFF56                     	JMP	L14
   420 00000543                                 L19:
   421 00000543 68 [00000000]                   	PUSH	_keyfifo
   422 00000548 E8 [00000000]                   	CALL	_fifo8_get
   423 0000054D 89 C3                           	MOV	EBX,EAX
   424 0000054F E8 [00000000]                   	CALL	_io_sti
   425 00000554 53                              	PUSH	EBX
   426 00000555 8D 95 FFFFFEC4                  	LEA	EDX,DWORD [-316+EBP]
   427 0000055B 68 [00000044]                   	PUSH	LC4
   428 00000560 8D 9D FFFFFEC4                  	LEA	EBX,DWORD [-316+EBP]
   429 00000566 52                              	PUSH	EDX
   430 00000567 E8 [00000000]                   	CALL	_sprintf
   431 0000056C 6A 1F                           	PUSH	31
   432 0000056E 6A 0F                           	PUSH	15
   433 00000570 6A 10                           	PUSH	16
   434 00000572 6A 00                           	PUSH	0
   435 00000574 6A 0E                           	PUSH	14
   436 00000576 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   437 0000057D 50                              	PUSH	EAX
   438 0000057E FF B5 FFFFFDF8                  	PUSH	DWORD [-520+EBP]
   439 00000584 E8 [00000000]                   	CALL	_boxfill8
   440 00000589 83 C4 2C                        	ADD	ESP,44
   441 0000058C 53                              	PUSH	EBX
   442 0000058D 6A 07                           	PUSH	7
   443 0000058F 6A 10                           	PUSH	16
   444 00000591 6A 00                           	PUSH	0
   445 00000593 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   446 0000059A 50                              	PUSH	EAX
   447 0000059B FF B5 FFFFFDF8                  	PUSH	DWORD [-520+EBP]
   448 000005A1 E8 [00000000]                   	CALL	_putfonts8_asc
   449 000005A6 6A 20                           	PUSH	32
   450 000005A8 6A 10                           	PUSH	16
   451 000005AA 6A 10                           	PUSH	16
   452 000005AC 6A 00                           	PUSH	0
   453 000005AE FF B5 FFFFFE04                  	PUSH	DWORD [-508+EBP]
   454 000005B4 E8 [00000000]                   	CALL	_sheet_refresh
   455 000005B9 83 C4 2C                        	ADD	ESP,44
   456 000005BC E9 FFFFFD3B                     	JMP	L2
   457 000005C1                                 L18:
   458 000005C1 E8 [00000000]                   	CALL	_io_sti
   459 000005C6 E9 FFFFFD31                     	JMP	L2
