     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_io_hlt
     7 00000000                                 	EXTERN	_io_load_eflags
     8 00000000                                 	EXTERN	_io_cli
     9 00000000                                 	EXTERN	_io_out8
    10 00000000                                 	EXTERN	_io_store_eflags
    11 00000000                                 [FILE "bootpack.c"]
    12                                          [SECTION .text]
    13 00000000                                 	ALIGN	2
    14 00000000                                 	GLOBAL	_HariMain
    15 00000000                                 _HariMain:
    16 00000000 55                              	PUSH	EBP
    17 00000001 89 E5                           	MOV	EBP,ESP
    18 00000003 83 EC 08                        	SUB	ESP,8
    19 00000006 E8 00000071                     	CALL	_init_palette
    20 0000000B C7 45 FC 000A0000               	MOV	DWORD [-4+EBP],655360
    21 00000012 83 EC 04                        	SUB	ESP,4
    22 00000015 6A 78                           	PUSH	120
    23 00000017 6A 78                           	PUSH	120
    24 00000019 6A 14                           	PUSH	20
    25 0000001B 6A 14                           	PUSH	20
    26 0000001D 6A 01                           	PUSH	1
    27 0000001F 68 00000140                     	PUSH	320
    28 00000024 FF 75 FC                        	PUSH	DWORD [-4+EBP]
    29 00000027 E8 0000011E                     	CALL	_boxfill8
    30 0000002C 83 C4 20                        	ADD	ESP,32
    31 0000002F 83 EC 04                        	SUB	ESP,4
    32 00000032 68 00000096                     	PUSH	150
    33 00000037 68 000000AA                     	PUSH	170
    34 0000003C 6A 32                           	PUSH	50
    35 0000003E 6A 46                           	PUSH	70
    36 00000040 6A 02                           	PUSH	2
    37 00000042 68 00000140                     	PUSH	320
    38 00000047 FF 75 FC                        	PUSH	DWORD [-4+EBP]
    39 0000004A E8 000000FB                     	CALL	_boxfill8
    40 0000004F 83 C4 20                        	ADD	ESP,32
    41 00000052 83 EC 04                        	SUB	ESP,4
    42 00000055 68 000000B4                     	PUSH	180
    43 0000005A 68 000000DC                     	PUSH	220
    44 0000005F 6A 50                           	PUSH	80
    45 00000061 6A 78                           	PUSH	120
    46 00000063 6A 04                           	PUSH	4
    47 00000065 68 00000140                     	PUSH	320
    48 0000006A FF 75 FC                        	PUSH	DWORD [-4+EBP]
    49 0000006D E8 000000D8                     	CALL	_boxfill8
    50 00000072 83 C4 20                        	ADD	ESP,32
    51 00000075                                 L2:
    52 00000075 E8 [00000000]                   	CALL	_io_hlt
    53 0000007A EB F9                           	JMP	L2
    54                                          [SECTION .data]
    55 00000000                                 _table_rgb.0:
    56 00000000 00                              	DB	0
    57 00000001 00                              	DB	0
    58 00000002 00                              	DB	0
    59 00000003 FF                              	DB	-1
    60 00000004 00                              	DB	0
    61 00000005 00                              	DB	0
    62 00000006 00                              	DB	0
    63 00000007 FF                              	DB	-1
    64 00000008 00                              	DB	0
    65 00000009 FF                              	DB	-1
    66 0000000A FF                              	DB	-1
    67 0000000B 00                              	DB	0
    68 0000000C 00                              	DB	0
    69 0000000D 00                              	DB	0
    70 0000000E FF                              	DB	-1
    71 0000000F FF                              	DB	-1
    72 00000010 00                              	DB	0
    73 00000011 FF                              	DB	-1
    74 00000012 00                              	DB	0
    75 00000013 FF                              	DB	-1
    76 00000014 FF                              	DB	-1
    77 00000015 FF                              	DB	-1
    78 00000016 FF                              	DB	-1
    79 00000017 FF                              	DB	-1
    80 00000018 C6                              	DB	-58
    81 00000019 C6                              	DB	-58
    82 0000001A C6                              	DB	-58
    83 0000001B 84                              	DB	-124
    84 0000001C 00                              	DB	0
    85 0000001D 00                              	DB	0
    86 0000001E 00                              	DB	0
    87 0000001F 84                              	DB	-124
    88 00000020 00                              	DB	0
    89 00000021 84                              	DB	-124
    90 00000022 84                              	DB	-124
    91 00000023 00                              	DB	0
    92 00000024 00                              	DB	0
    93 00000025 00                              	DB	0
    94 00000026 84                              	DB	-124
    95 00000027 84                              	DB	-124
    96 00000028 00                              	DB	0
    97 00000029 84                              	DB	-124
    98 0000002A 00                              	DB	0
    99 0000002B 84                              	DB	-124
   100 0000002C 84                              	DB	-124
   101 0000002D 84                              	DB	-124
   102 0000002E 84                              	DB	-124
   103 0000002F 84                              	DB	-124
   104                                          [SECTION .text]
   105 0000007C                                 	ALIGN	2
   106 0000007C                                 	GLOBAL	_init_palette
   107 0000007C                                 _init_palette:
   108 0000007C 55                              	PUSH	EBP
   109 0000007D 89 E5                           	MOV	EBP,ESP
   110 0000007F 83 EC 08                        	SUB	ESP,8
   111 00000082 83 EC 04                        	SUB	ESP,4
   112 00000085 68 [00000000]                   	PUSH	_table_rgb.0
   113 0000008A 6A 0F                           	PUSH	15
   114 0000008C 6A 00                           	PUSH	0
   115 0000008E E8 00000005                     	CALL	_set_palette
   116 00000093 83 C4 10                        	ADD	ESP,16
   117 00000096 C9                              	LEAVE
   118 00000097 C3                              	RET
   119 00000098                                 	ALIGN	2
   120 00000098                                 	GLOBAL	_set_palette
   121 00000098                                 _set_palette:
   122 00000098 55                              	PUSH	EBP
   123 00000099 89 E5                           	MOV	EBP,ESP
   124 0000009B 83 EC 08                        	SUB	ESP,8
   125 0000009E E8 [00000000]                   	CALL	_io_load_eflags
   126 000000A3 89 45 F8                        	MOV	DWORD [-8+EBP],EAX
   127 000000A6 E8 [00000000]                   	CALL	_io_cli
   128 000000AB 83 EC 08                        	SUB	ESP,8
   129 000000AE FF 75 08                        	PUSH	DWORD [8+EBP]
   130 000000B1 68 000003C8                     	PUSH	968
   131 000000B6 E8 [00000000]                   	CALL	_io_out8
   132 000000BB 83 C4 10                        	ADD	ESP,16
   133 000000BE 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   134 000000C1 89 45 FC                        	MOV	DWORD [-4+EBP],EAX
   135 000000C4                                 L7:
   136 000000C4 8B 45 FC                        	MOV	EAX,DWORD [-4+EBP]
   137 000000C7 3B 45 0C                        	CMP	EAX,DWORD [12+EBP]
   138 000000CA 7E 02                           	JLE	L10
   139 000000CC EB 6B                           	JMP	L8
   140 000000CE                                 L10:
   141 000000CE 83 EC 08                        	SUB	ESP,8
   142 000000D1 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   143 000000D4 8A 00                           	MOV	AL,BYTE [EAX]
   144 000000D6 C0 E8 02                        	SHR	AL,2
   145 000000D9 25 000000FF                     	AND	EAX,255
   146 000000DE 50                              	PUSH	EAX
   147 000000DF 68 000003C9                     	PUSH	969
   148 000000E4 E8 [00000000]                   	CALL	_io_out8
   149 000000E9 83 C4 10                        	ADD	ESP,16
   150 000000EC 83 EC 08                        	SUB	ESP,8
   151 000000EF 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   152 000000F2 40                              	INC	EAX
   153 000000F3 8A 00                           	MOV	AL,BYTE [EAX]
   154 000000F5 C0 E8 02                        	SHR	AL,2
   155 000000F8 25 000000FF                     	AND	EAX,255
   156 000000FD 50                              	PUSH	EAX
   157 000000FE 68 000003C9                     	PUSH	969
   158 00000103 E8 [00000000]                   	CALL	_io_out8
   159 00000108 83 C4 10                        	ADD	ESP,16
   160 0000010B 83 EC 08                        	SUB	ESP,8
   161 0000010E 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   162 00000111 83 C0 02                        	ADD	EAX,2
   163 00000114 8A 00                           	MOV	AL,BYTE [EAX]
   164 00000116 C0 E8 02                        	SHR	AL,2
   165 00000119 25 000000FF                     	AND	EAX,255
   166 0000011E 50                              	PUSH	EAX
   167 0000011F 68 000003C9                     	PUSH	969
   168 00000124 E8 [00000000]                   	CALL	_io_out8
   169 00000129 83 C4 10                        	ADD	ESP,16
   170 0000012C 8D 45 10                        	LEA	EAX,DWORD [16+EBP]
   171 0000012F 83 00 03                        	ADD	DWORD [EAX],3
   172 00000132 8D 45 FC                        	LEA	EAX,DWORD [-4+EBP]
   173 00000135 FF 00                           	INC	DWORD [EAX]
   174 00000137 EB 8B                           	JMP	L7
   175 00000139                                 L8:
   176 00000139 83 EC 0C                        	SUB	ESP,12
   177 0000013C FF 75 F8                        	PUSH	DWORD [-8+EBP]
   178 0000013F E8 [00000000]                   	CALL	_io_store_eflags
   179 00000144 83 C4 10                        	ADD	ESP,16
   180 00000147 C9                              	LEAVE
   181 00000148 C3                              	RET
   182 00000149 90                              	ALIGN	2
   183 0000014A                                 	GLOBAL	_boxfill8
   184 0000014A                                 _boxfill8:
   185 0000014A 55                              	PUSH	EBP
   186 0000014B 89 E5                           	MOV	EBP,ESP
   187 0000014D 83 EC 0C                        	SUB	ESP,12
   188 00000150 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   189 00000153 88 45 FF                        	MOV	BYTE [-1+EBP],AL
   190 00000156 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
   191 00000159 89 45 F4                        	MOV	DWORD [-12+EBP],EAX
   192 0000015C                                 L12:
   193 0000015C 8B 45 F4                        	MOV	EAX,DWORD [-12+EBP]
   194 0000015F 3B 45 20                        	CMP	EAX,DWORD [32+EBP]
   195 00000162 7E 02                           	JLE	L15
   196 00000164 EB 32                           	JMP	L11
   197 00000166                                 L15:
   198 00000166 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   199 00000169 89 45 F8                        	MOV	DWORD [-8+EBP],EAX
   200 0000016C                                 L16:
   201 0000016C 8B 45 F8                        	MOV	EAX,DWORD [-8+EBP]
   202 0000016F 3B 45 1C                        	CMP	EAX,DWORD [28+EBP]
   203 00000172 7E 02                           	JLE	L19
   204 00000174 EB 1B                           	JMP	L14
   205 00000176                                 L19:
   206 00000176 8B 45 F4                        	MOV	EAX,DWORD [-12+EBP]
   207 00000179 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   208 0000017D 03 45 F8                        	ADD	EAX,DWORD [-8+EBP]
   209 00000180 89 C2                           	MOV	EDX,EAX
   210 00000182 03 55 08                        	ADD	EDX,DWORD [8+EBP]
   211 00000185 8A 45 FF                        	MOV	AL,BYTE [-1+EBP]
   212 00000188 88 02                           	MOV	BYTE [EDX],AL
   213 0000018A 8D 45 F8                        	LEA	EAX,DWORD [-8+EBP]
   214 0000018D FF 00                           	INC	DWORD [EAX]
   215 0000018F EB DB                           	JMP	L16
   216 00000191                                 L14:
   217 00000191 8D 45 F4                        	LEA	EAX,DWORD [-12+EBP]
   218 00000194 FF 00                           	INC	DWORD [EAX]
   219 00000196 EB C4                           	JMP	L12
   220 00000198                                 L11:
   221 00000198 C9                              	LEAVE
   222 00000199 C3                              	RET
